{"id":".claude-07m","title":"Test lint enforcement","description":"Testing that the lint hook fires","status":"tombstone","priority":2,"issue_type":"task","owner":"github@luan.sh","created_at":"2026-02-07T00:02:18.224082-08:00","created_by":"Luan Santos","updated_at":"2026-02-07T00:02:24.092636-08:00","deleted_at":"2026-02-07T00:02:24.092636-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":".claude-08g","title":"Revise skills to match Anthropic best practices","description":"## Problem\n20 skills audited against Anthropic's Complete Guide to Building Skills. 2 have broken filenames (invisible to Claude), writing-skills missing key rules, several descriptions lack WHAT+WHEN format, references to nonexistent skills.\n\n## Solution\nTargeted fixes in 6 phases: filename fixes, writing-skills update, broken references, description quality, cleanup, progressive disclosure.\n\n## Success Criteria\n- All SKILL.md files correctly cased\n- writing-skills covers all guide rules\n- No references to nonexistent skills\n- All descriptions follow WHAT + WHEN + triggers format\n- Redundant frontmatter removed, allowed-tools normalized\n- Long skills use references/ for progressive disclosure","status":"closed","priority":1,"issue_type":"epic","owner":"github@luan.sh","created_at":"2026-02-13T22:15:58.503411-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T22:34:06.782901-08:00","closed_at":"2026-02-13T22:34:06.782901-08:00","close_reason":"Closed"}
{"id":".claude-08g.1","title":"Fix SKILL.md filename case for pr-description and pr-fix-comments","description":"## Context\nEpic: .claude-08g — Revise skills to match Anthropic best practices\n\n## Files\n- Rename: skills/pr-description/skill.md → SKILL.md\n- Rename: skills/pr-fix-comments/skill.md → SKILL.md\n\n## Acceptance Criteria\n- [ ] Both files renamed to SKILL.md (exact case)\n- [ ] Git tracks the rename correctly\n- [ ] Skills are discoverable after rename\n\n## Implementation\n\n### Step 1: Rename pr-description\ngit mv skills/pr-description/skill.md skills/pr-description/SKILL.tmp\ngit mv skills/pr-description/SKILL.tmp skills/pr-description/SKILL.md\n\n### Step 2: Rename pr-fix-comments\ngit mv skills/pr-fix-comments/skill.md skills/pr-fix-comments/SKILL.tmp\ngit mv skills/pr-fix-comments/SKILL.tmp skills/pr-fix-comments/SKILL.md\n\n### Step 3: Verify\nls -la skills/pr-description/SKILL.md skills/pr-fix-comments/SKILL.md\ngit status — should show renamed files","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T22:16:22.443738-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T22:25:57.347747-08:00","closed_at":"2026-02-13T22:25:57.347747-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-08g.1","depends_on_id":".claude-08g","type":"parent-child","created_at":"2026-02-13T22:16:22.444439-08:00","created_by":"Luan Santos"}]}
{"id":".claude-08g.2","title":"Update writing-skills with missing Anthropic guide rules","description":"## Context\nEpic: .claude-08g — Revise skills to match Anthropic best practices\n\n## Files\n- Modify: skills/writing-skills/SKILL.md\n\n## Acceptance Criteria\n- [ ] Covers no claude/anthropic naming restriction\n- [ ] Covers no XML in frontmatter restriction\n- [ ] Covers no README.md in skill folder rule\n- [ ] Covers \u003c1024 char description limit\n- [ ] Description guidance updated to WHAT + WHEN (not ONLY triggers)\n- [ ] Standard dirs (references/, assets/) documented\n- [ ] Progressive disclosure 3-level model mentioned\n- [ ] Existing TDD methodology preserved unchanged\n\n## Implementation\n\n### Edit 1: Add naming + frontmatter restrictions to Frontmatter section\nAfter the frontmatter code block (line 61 closing ```), before the field table:\n\nold_string:\n```\n| Field | Effect |\n|-------|--------|\n| `disable-model-invocation: true` | User-only |\n| `user-invocable: false` | Claude-only |\n| `context: fork` | Isolated subagent |\n```\n\nnew_string:\n```\n**Restrictions:**\n- Name must NOT contain \"claude\" or \"anthropic\"\n- No XML tags in frontmatter values\n- Description must be \u003c1024 characters\n\n| Field | Effect |\n|-------|--------|\n| `disable-model-invocation: true` | User-only |\n| `user-invocable: false` | Claude-only |\n| `context: fork` | Isolated subagent |\n```\n\n### Edit 2: Add references/ and assets/ to directory structure, add README.md prohibition\nold_string:\n```\nskills/\n  skill-name/\n    SKILL.md              # Main reference (required)\n    template.md           # Template\n    examples/             # Example outputs\n    scripts/              # Utilities\n```\n\nnew_string:\n```\nskills/\n  skill-name/\n    SKILL.md              # Main reference (required)\n    template.md           # Template\n    examples/             # Example outputs\n    references/           # Heavy reference material\n    assets/               # Static assets\n    scripts/              # Utilities\n```\n\nNote: Never add README.md to skill folders — SKILL.md is the entry point.\n\n### Edit 3: Update description guidance from \"ONLY triggers\" to \"WHAT + WHEN\"\nold_string:\n```\n## Description Field (Critical)\n\n**ONLY triggers. NEVER workflow summary.**\n\n```yaml\n# BAD: Claude shortcuts instead of reading skill\ndescription: Use when executing plans - dispatches subagent per task with review\n\n# GOOD: Just triggers\ndescription: Use when executing implementation plans with independent tasks\n```\n\n**Why:** Claude shortcuts workflow summaries, skips actual content.\n```\n\nnew_string:\n```\n## Description Field (Critical)\n\n**WHAT it does + WHEN to use. NEVER workflow details.**\n\nMust be \u003c1024 characters. Tells Claude what the skill does and when to\ninvoke it — but not HOW it works internally.\n\n```yaml\n# BAD: workflow details Claude will shortcut\ndescription: Use when executing plans - dispatches subagent per task with review\n\n# GOOD: what + when\ndescription: Use when executing implementation plans with independent tasks\n```\n\n**Why:** Claude shortcuts workflow summaries, skips actual content.\n```\n\n### Edit 4: Add progressive disclosure guidance to SKILL.md Structure section\nold_string:\n```\n## Common Mistakes\nWhat fails + fixes.\n```\n```\n\nnew_string:\n```\n## Common Mistakes\nWhat fails + fixes.\n```\n\n**Progressive disclosure:** Structure content in 3 levels:\n1. **Critical** — must-know rules (## Critical header)\n2. **Important** — common patterns (## Important header)\n3. **Reference** — lookup tables, edge cases\n\nUse `## Critical` / `## Important` headers so Claude prioritizes\ncorrectly under token pressure.\n```","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T22:17:06.799833-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T22:27:25.29519-08:00","closed_at":"2026-02-13T22:27:25.29519-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-08g.2","depends_on_id":".claude-08g","type":"parent-child","created_at":"2026-02-13T22:17:06.800482-08:00","created_by":"Luan Santos"},{"issue_id":".claude-08g.2","depends_on_id":".claude-08g.1","type":"blocks","created_at":"2026-02-13T22:20:33.422199-08:00","created_by":"Luan Santos"}]}
{"id":".claude-08g.3","title":"Remove references to nonexistent skills in debugging and implement","description":"## Context\nEpic: .claude-08g — Revise skills to match Anthropic best practices\n\n## Files\n- Modify: skills/debugging/SKILL.md\n- Modify: skills/implement/SKILL.md\n\n## Acceptance Criteria\n- [ ] No references to nonexistent skills remain\n- [ ] Behavior preserved (inlined or removed gracefully)\n- [ ] No broken skill dispatch calls\n\n## Implementation\n\n### 1. debugging/SKILL.md — Remove `team-debug` references\n\n**Replace line 33** (Phase 3, step 2):\n```\nold: 2. **If you identify 3+ plausible hypotheses:** STOP — invoke `Skill tool: team-debug` with bug description + hypotheses. Don't continue single-thread debugging.\nnew: 2. **If you identify 3+ plausible hypotheses:** STOP — spawn parallel subagents (one per hypothesis) to investigate simultaneously. Each subagent traces one hypothesis, reports evidence for/against.\n```\n\n**Replace line 36** (Phase 3, step 5 parenthetical):\n```\nold: 5. Worked → Phase 4. Didn't → NEW hypothesis (if this is your 3rd hypothesis, escalate per step 2)\nnew: 5. Worked → Phase 4. Didn't → NEW hypothesis (if this is your 3rd hypothesis, parallelize per step 2)\n```\n\n**Replace line 40** (Phase 4, step 1):\n```\nold: 1. Create failing test - use Skill tool to invoke `tdd`\nnew: 1. Create failing test that reproduces the bug\n```\n\n**Replace lines 58-65** (Skill Composition table — remove entirely, all three entries reference nonexistent skills):\n```\nold:\n## Skill Composition\n\n| When | Invoke |\n|------|--------|\n| Writing tests | `use Skill tool to invoke tdd` |\n| Verifying fix | `use Skill tool to invoke verification-before-completion` |\n| 3+ plausible root causes | `use Skill tool to invoke team-debug` |\n\nnew: (delete entirely — behavior is now inlined in phases above)\n```\n\n### 2. implement/SKILL.md — Remove `finishing-branch` references\n\n**Replace line 61** (Solo Mode, step 6):\n```\nold: 6. Done → invoke finishing-branch skill\nnew: 6. Done → `bd sync` + report completion to caller\n```\n\n**Replace line 140** (Swarm Teardown, step 3):\n```\nold: 3. Invoke finishing-branch skill\nnew: 3. `bd sync` + report completion to caller\n```","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T22:17:42.795232-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T22:28:27.53936-08:00","closed_at":"2026-02-13T22:28:27.53936-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-08g.3","depends_on_id":".claude-08g","type":"parent-child","created_at":"2026-02-13T22:17:42.795873-08:00","created_by":"Luan Santos"},{"issue_id":".claude-08g.3","depends_on_id":".claude-08g.1","type":"blocks","created_at":"2026-02-13T22:20:33.501579-08:00","created_by":"Luan Santos"}]}
{"id":".claude-08g.4","title":"Improve description quality for 5 skills","description":"## Context\nEpic: .claude-08g — Revise skills to match Anthropic best practices\n\n## Files\n- Modify: skills/compress-prompt/SKILL.md (description only)\n- Modify: skills/git-surgeon/SKILL.md (description only)\n- Modify: skills/graphite/SKILL.md (description only)\n- Modify: skills/reference-sync/SKILL.md (description only)\n- Modify: skills/implement/SKILL.md (description only)\n\n## Acceptance Criteria\n- [ ] All 5 descriptions follow WHAT + WHEN + triggers format\n- [ ] All under 1024 chars\n- [ ] No XML tags\n- [ ] No workflow summaries in descriptions\n\n## Implementation\n\n### 1. compress-prompt/SKILL.md\n\n**Old:**\n```\ndescription: Use when compressing text for AI consumption - skill files, system prompts, agent instructions. Not for human docs.\n```\n\n**New:**\n```\ndescription: Compress text for AI consumption — skill files, system prompts, agent instructions. Triggers: \"compress\", \"reduce tokens\", \"shrink prompt\", \"make it shorter for AI\". Not for human docs.\n```\n\n### 2. git-surgeon/SKILL.md\n\n**Old:**\n```\ndescription: Non-interactive hunk-level git staging, unstaging, discarding, undoing, fixup, and commit splitting. Use when selectively staging, unstaging, discarding, reverting, or splitting individual diff hunks by ID instead of interactively. Also use when asked to commit changes separately, make separate commits, or split changes into multiple commits.\n```\n\n**New:**\n```\ndescription: Non-interactive hunk-level git operations — stage, unstage, discard, undo, fixup, and split by hunk ID. Triggers: \"stage this hunk\", \"split commit\", \"partial stage\", \"discard hunk\", \"selective staging\", \"commit separately\", \"separate commits\".\n```\n\n### 3. graphite/SKILL.md\n\n**Old:**\n```\ndescription: Graphite stacked PRs - create, sync, modify, submit. Auto-triggers on gt commands, \"stack\", \"branch\", \"PR\", \"push\", \"submit\".\n```\n\n**New:**\n```\ndescription: Manage Graphite stacked PRs — create, sync, modify, submit branches and PRs. Triggers: gt commands, \"stack\", \"branch\", \"PR\", \"push\", \"submit\".\n```\n\n### 4. reference-sync/SKILL.md\n\n**Old:**\n```\ndescription: \"Sync references/ submodule and analyze changes since last update\"\n```\n\n**New:**\n```\ndescription: \"Sync references/ submodule and analyze upstream changes since last update. Triggers: \\\"reference sync\\\", \\\"check references\\\", \\\"update references\\\", \\\"what changed upstream\\\".\"\n```\n\n### 5. implement/SKILL.md\n\n**Old:**\n```\ndescription: \"Triggers: 'invoke implement', 'implement with arg', beads issue/epic ID, 'execute the plan', 'build this', 'code this plan', 'start implementing', 'now implement', 'time to implement', 'ready to implement', 'begin implementation', 'let me implement', 'To continue: use Skill tool to invoke implement'. Extract issue-id from 'with arg X'.\"\n```\n\n**New:**\n```\ndescription: \"Execute a beads epic or task — auto-detects solo vs swarm mode, dispatches subagents to implement. Triggers: \\\"implement\\\", \\\"execute the plan\\\", \\\"build this\\\", \\\"code this plan\\\", \\\"start implementing\\\", \\\"ready to implement\\\", beads issue/epic ID.\"\n```","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T22:18:24.732311-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T22:29:31.11354-08:00","closed_at":"2026-02-13T22:29:31.11354-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-08g.4","depends_on_id":".claude-08g","type":"parent-child","created_at":"2026-02-13T22:18:24.733234-08:00","created_by":"Luan Santos"},{"issue_id":".claude-08g.4","depends_on_id":".claude-08g.2","type":"blocks","created_at":"2026-02-13T22:20:33.57947-08:00","created_by":"Luan Santos"}]}
{"id":".claude-08g.5","title":"Normalize frontmatter and add error handling across skills","description":"## Context\nEpic: .claude-08g — Revise skills to match Anthropic best practices\n\n## Files\n- Modify: skills/pr-fix-gha/SKILL.md (remove redundant frontmatter)\n- Modify: skills/fix/SKILL.md (fix step numbering)\n- Modify: skills/pr-description/SKILL.md (normalize allowed-tools syntax)\n- Modify: skills/graphite/SKILL.md (normalize allowed-tools syntax)\n- Modify: skills/start/SKILL.md (add error handling)\n- Modify: skills/fix/SKILL.md (add error handling)\n- Modify: skills/reference-sync/SKILL.md (add error handling)\n- Modify: skills/prepare/SKILL.md (add error handling)\n\n## Acceptance Criteria\n- [ ] No redundant frontmatter fields (remove `disable-model-invocation: false` from pr-fix-gha)\n- [ ] Step numbering correct in fix skill (1, 2, 3 not 1, 3, 4)\n- [ ] Consistent allowed-tools wildcard syntax: `Bash(cmd:*)` with colon (dominant pattern)\n- [ ] Basic error handling notes in start, fix, reference-sync, prepare\n\n## Implementation\n\n### 1. pr-fix-gha/SKILL.md — Remove redundant frontmatter\nDelete line 5: `disable-model-invocation: false` (false is the default)\n\n### 2. fix/SKILL.md — Fix step numbering\n- Line 35: change `3.` to `2.`\n- Line 42: change `4.` to `3.`\n\n### 3. Normalize allowed-tools wildcard syntax to `Bash(cmd:*)`\nFiles using space syntax that need colon:\n- **pr-description/SKILL.md**: change all `Bash(cmd *)` to `Bash(cmd:*)`\n  - `Bash(git status *)` → `Bash(git status:*)`\n  - `Bash(git diff *)` → `Bash(git diff:*)`\n  - `Bash(git log *)` → `Bash(git log:*)`\n  - `Bash(git branch *)` → `Bash(git branch:*)`\n  - `Bash(git show *)` → `Bash(git show:*)`\n  - `Bash(gh pr view *)` → `Bash(gh pr view:*)`\n  - `Bash(gh pr edit *)` → `Bash(gh pr edit:*)`\n  - `Bash(gt log *)` → `Bash(gt log:*)`\n- **graphite/SKILL.md**: `Bash(gt *)` already uses space — change to `Bash(gt:*)`\n\n### 4. Add error handling to start/SKILL.md\nAfter step 6, add:\n```\n## Error Handling\n- `gt create` fails → check if branch exists (`git branch -a | grep \u003cname\u003e`), suggest alternate name\n- `bd update` fails → verify issue ID exists with `bd show \u003cid\u003e`, report if missing\n- Not on expected parent branch → warn user, suggest `gt checkout` first\n```\n\n### 5. Add error handling to fix/SKILL.md\nAfter step 3 (Report), add:\n```\n## Error Handling\n- No beads CLI → tell user to install, stop\n- `bd create` fails → show error, retry once, then report\n- Ambiguous feedback → AskUserQuestion for clarification before creating issues\n```\n\n### 6. Add error handling to reference-sync/SKILL.md\nAfter Key Constraints section, add:\n```\n## Error Handling\n- No `references/` directory → \"Submodule not initialized. Run: `git submodule update --init`\"\n- `git fetch` fails → check network, report and stop\n- Subagent fails on area → report which area failed, continue with others\n```\n\n### 7. Add error handling to prepare/SKILL.md\nAfter step 8 (Report), add:\n```\n## Error Handling\n- No design field content → \"Run `/explore` first to generate a design\", stop\n- `bd create` fails for epic → check beads CLI available, report error\n- Subagent fails on phase → report which phase, continue others, note gap in report\n- `bd swarm validate` fails → show validation errors, ask user how to proceed\n```","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T22:19:17.648847-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T22:31:12.267456-08:00","closed_at":"2026-02-13T22:31:12.267456-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-08g.5","depends_on_id":".claude-08g","type":"parent-child","created_at":"2026-02-13T22:19:17.649847-08:00","created_by":"Luan Santos"},{"issue_id":".claude-08g.5","depends_on_id":".claude-08g.1","type":"blocks","created_at":"2026-02-13T22:20:33.659694-08:00","created_by":"Luan Santos"}]}
{"id":".claude-08g.6","title":"Move detailed content to references/ for review and pr-reviewers","description":"## Context\nEpic: .claude-08g — Revise skills to match Anthropic best practices\n\nTwo skills exceed ideal length. Move detailed reference content to\nreferences/ subdirectories following 3-level progressive disclosure:\nfrontmatter (always loaded) → SKILL.md body (on invoke) → linked files\n(navigated on demand).\n\n## Files\n- Modify: skills/review/SKILL.md (trim from 201 → ~110 lines)\n- Create: skills/review/references/prompts.md (reviewer prompt templates)\n- Modify: skills/pr-reviewers/SKILL.md (trim from 111 → ~70 lines)\n- Create: skills/pr-reviewers/references/scoring.md (scoring algorithm)\n\n## review/SKILL.md — What Moves\n\nMove lines 67–102 (Solo Mode lens prompts) and lines 112–146\n(Perspective Mode prompts) and lines 171–185 (fix dispatch prompt)\nto `references/prompts.md`.\n\nReplace each block with a single instruction line:\n```\nRead references/prompts.md for \u003csection\u003e prompt templates.\n```\n\nKeep: mode selection logic, step structure, consolidation rules,\noutput format, receiving feedback section.\n\n### references/prompts.md content\n\n```markdown\n# Reviewer Prompt Templates\n\n## Solo Mode\n\n### Lens 1: Correctness \u0026 Security\n\\`\\`\\`\nYou are an adversarial correctness and security reviewer.\n\n{diff + full file contents}\n\nFocus:\n- Edge cases (empty, null, overflow, concurrent access)\n- Invalid states, race conditions\n- Resource leaks (unclosed handles, missing cleanup)\n- Silent failures, swallowed errors\n- Off-by-one, logic inversions\n- Injection (SQL, command, XSS, template)\n- Auth/authz gaps, data exposure, cryptographic misuse\n\nOutput: table with Severity | File:Line | Issue | Suggestion\nThen brief summary.\n\\`\\`\\`\n\n### Lens 2: Architecture \u0026 Performance\n\\`\\`\\`\nYou are an adversarial architecture and performance reviewer.\n\n{diff + full file contents}\n\nFocus:\n- Incomplete refactors, dead code, unused params\n- Unnecessary abstractions, coupling\n- Could this be simpler?\n- O(n^2) in loops, unnecessary allocations\n- Memory (retained refs, unbounded growth)\n- I/O (blocking calls, N+1 queries)\n- Concurrency (thread safety, deadlock, contention)\n\nOutput: table with Severity | File:Line | Issue | Suggestion\nThen brief summary.\n\\`\\`\\`\n\n## Perspective Mode (--team)\n\n### Perspective 1: Architect (model: opus)\n\\`\\`\\`\nArchitecture reviewer. Focus:\n- System boundaries, coupling, scalability\n- Design flaws, incomplete abstractions\n- Dependency direction, module cohesion\n- Could this be simpler or more maintainable?\n\nTag: [architect]\nOutput: Phase 1 (Critical) → Phase 2 (Design) → Phase 3 (Testing Gaps)\n\\`\\`\\`\n\n### Perspective 2: Code Quality (model: sonnet)\n\\`\\`\\`\nCode quality reviewer. Focus:\n- Readability, naming, error handling\n- Edge cases, off-by-one, null safety\n- Consistency with surrounding code\n- Resource leaks, missing cleanup\n\nTag: [code-quality]\nOutput: Phase 1 (Critical) → Phase 2 (Design) → Phase 3 (Testing Gaps)\n\\`\\`\\`\n\n### Perspective 3: Devil's Advocate (model: opus)\n\\`\\`\\`\nDevil's advocate reviewer. Focus:\n- Failure modes others miss\n- Security: injection, auth gaps, data exposure\n- Bad assumptions, race conditions\n- What breaks under load, bad input, or partial failure?\n\nTag: [devil]\nOutput: Phase 1 (Critical) → Phase 2 (Design) → Phase 3 (Testing Gaps)\n\\`\\`\\`\n\n## Fix Dispatch Prompt (model: sonnet)\n\\`\\`\\`\nFix these review issues in code.\n\n## Issues to Fix\n{issues with file:line refs}\n\n## Your Job\n1. Fix each listed issue\n2. Verify fixes (syntax check, tests if quick)\n3. Report what you fixed\n\nDo NOT: fix unlisted things, refactor beyond needed, add features\n\\`\\`\\`\n```\n\n## pr-reviewers/SKILL.md — What Moves\n\nMove lines 46–75 (candidate gathering git commands) and lines 79–96\n(scoring weights + penalties tables) to `references/scoring.md`.\n\nReplace with:\n```\nRead references/scoring.md for candidate gathering commands, scoring\nweights, and penalty multipliers.\n```\n\nKeep: steps overview, generated file exclusion list, presentation\nrules, \"never say reviewed your PRs\" rule.\n\n### references/scoring.md content\n\n```markdown\n# Scoring Algorithm\n\n## Candidate Gathering Commands\n\n**For existing files** — use `git log` not `git blame` (faster):\n\\`\\`\\`\ngit log --since=\"12 months ago\" --format='%aN \u003c%aE\u003e' --diff-filter=M -- \u003cfiles\u003e | sort | uniq -c | sort -rn\n\\`\\`\\`\n\n**For new files** — find experts on parent directory:\n\\`\\`\\`\ngit log --since=\"12 months ago\" --format='%aN \u003c%aE\u003e' -- \u003cparent_dirs\u003e | sort | uniq -c | sort -rn\n\\`\\`\\`\n\n**Line-weighted ownership** (for top candidates only, not all files):\n\\`\\`\\`\ngit log --since=\"12 months ago\" --numstat --format='%aN' -- \u003cfiles\u003e\n\\`\\`\\`\nSum lines touched per author. Normalize: `author_lines / total_lines`.\n\n**Recent reviewers** (for PENALTY):\n\\`\\`\\`\ngh pr list --author @me --state merged --limit 10 --json reviews\n\\`\\`\\`\n\n**Current review load**:\n\\`\\`\\`\ngh api graphql -f query='{ search(query:\"is:pr is:open review-requested:\u003cusername\u003e\", type:ISSUE) { issueCount } }'\n\\`\\`\\`\n\n**CODEOWNERS**: check `.github/CODEOWNERS` or `CODEOWNERS`.\nSkip if absent — don't error.\n\n## Scoring Weights\n\n| Factor | Weight | Normalization |\n|--------|--------|---------------|\n| Line-weighted ownership | 40% | `author_lines / total_lines` across changed files |\n| Recent commit count | 30% | `author_commits / max_commits` among candidates |\n| CODEOWNERS match | 15% | 1.0 if matched, 0.0 if not (skip if no file) |\n| Directory familiarity (new files) | 15% | `dir_commits / max_dir_commits` |\n\n## Penalties (multiply final score)\n\n| Condition | Multiplier |\n|-----------|------------|\n| Reviewed 3+ of last 5 author PRs | ×0.7 |\n| Reviewed 2 of last 5 author PRs | ×0.85 |\n| 5+ open review requests | ×0.8 |\n| 8+ open review requests | ×0.6 |\n```\n\n## Acceptance Criteria\n- [ ] review/SKILL.md under 120 lines with references/ link\n- [ ] review/references/prompts.md contains all prompt templates verbatim\n- [ ] pr-reviewers/SKILL.md under 80 lines with references/ link\n- [ ] pr-reviewers/references/scoring.md contains scoring algorithm verbatim\n- [ ] Skills still function correctly (orchestration logic intact in SKILL.md)\n- [ ] No content lost — moved content preserved exactly","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T22:20:20.306866-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T22:33:29.568773-08:00","closed_at":"2026-02-13T22:33:29.568773-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-08g.6","depends_on_id":".claude-08g","type":"parent-child","created_at":"2026-02-13T22:20:20.307725-08:00","created_by":"Luan Santos"},{"issue_id":".claude-08g.6","depends_on_id":".claude-08g.1","type":"blocks","created_at":"2026-02-13T22:20:33.739094-08:00","created_by":"Luan Santos"}]}
{"id":".claude-08z","title":"Model tiering: optimize subagent model selection","description":"All subagent dispatches inherit Opus. Agent .md files lack proper YAML frontmatter. Skills dispatch general-purpose everywhere. Add model tiering (opus/sonnet/haiku) to agents and skills.\n\n## Success Criteria\n- All 6 agents have proper YAML frontmatter with name, description, model, tools\n- commit skill runs on haiku, compress-prompt on sonnet\n- feedback and review fix dispatches use sonnet\n- Review lenses merged from 4 to 2\n- rules/model-tiering.md documents the policy\n- /agents command shows all agents with correct config","status":"closed","priority":1,"issue_type":"epic","owner":"github@luan.sh","created_at":"2026-02-09T19:48:35.473311-08:00","created_by":"Luan Santos","updated_at":"2026-02-09T19:55:04.710707-08:00","closed_at":"2026-02-09T19:55:04.710707-08:00","close_reason":"All 7 child tasks completed","dependencies":[{"issue_id":".claude-08z","depends_on_id":".claude-0o9","type":"blocks","created_at":"2026-02-09T19:51:46.013044-08:00","created_by":"Luan Santos"},{"issue_id":".claude-08z","depends_on_id":".claude-78w","type":"blocks","created_at":"2026-02-09T19:51:46.108307-08:00","created_by":"Luan Santos"},{"issue_id":".claude-08z","depends_on_id":".claude-kgh","type":"blocks","created_at":"2026-02-09T19:51:46.19712-08:00","created_by":"Luan Santos"},{"issue_id":".claude-08z","depends_on_id":".claude-ktm","type":"blocks","created_at":"2026-02-09T19:51:46.273322-08:00","created_by":"Luan Santos"},{"issue_id":".claude-08z","depends_on_id":".claude-0hp","type":"blocks","created_at":"2026-02-09T19:51:46.366263-08:00","created_by":"Luan Santos"},{"issue_id":".claude-08z","depends_on_id":".claude-hyl","type":"blocks","created_at":"2026-02-09T19:51:46.466612-08:00","created_by":"Luan Santos"},{"issue_id":".claude-08z","depends_on_id":".claude-uxd","type":"blocks","created_at":"2026-02-09T19:51:46.550711-08:00","created_by":"Luan Santos"}]}
{"id":".claude-0hp","title":"Merge review lenses 4→2 and add sonnet fix dispatch","description":"Two changes in review/SKILL.md:\n\n## Change 1: Merge Step 3 lenses (4→2)\n\nReplace 4 lens prompts with 2 merged lenses:\n\nLens 1: Correctness \u0026 Security — merge Lens 2 + Lens 3. Combined: edge cases, invalid states, race conditions, resource leaks, injection, auth gaps, data exposure, secrets, crypto misuse.\n\nLens 2: Architecture \u0026 Performance — merge Lens 1 + Lens 4. Combined: incomplete refactors, abstractions, dead code, coupling, simplicity, algorithmic complexity, memory, I/O, concurrency.\n\nUpdate Step 3 intro from 'Spawn 4' to 'Spawn 2'.\nUpdate Step 4 to reference 2 reviewers.\n\n## Change 2: Step 5 fix agent → sonnet\n\nold_string:\n```\nSpawn general-purpose agent with:\n```\n\nnew_string:\n```\nSpawn general-purpose agent (model: \"sonnet\") with:\n```\n\n## Acceptance Criteria\n- Step 3 has exactly 2 lens prompts (not 4)\n- Step 5 dispatch includes model: sonnet\n- All original review focus areas covered across the 2 lenses","status":"closed","priority":1,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-09T19:49:07.455898-08:00","created_by":"Luan Santos","updated_at":"2026-02-09T19:54:09.128113-08:00","closed_at":"2026-02-09T19:54:09.128113-08:00","close_reason":"Closed"}
{"id":".claude-0o9","title":"Add YAML frontmatter to all 6 agent definitions","description":"Add required YAML frontmatter (name, description, model, tools) to all agents in ~/.claude/agents/.\n\n## Agent Config\n\n| Agent | model | tools |\n|-------|-------|-------|\n| implementer | sonnet | Read, Edit, Write, Bash, Glob, Grep |\n| researcher | haiku | Read, Glob, Grep |\n| reviewer | sonnet | Read, Glob, Grep, Bash |\n| tester | sonnet | Read, Edit, Write, Bash, Glob, Grep |\n| architect | inherit | Read, Glob, Grep, Bash |\n| devil | inherit | Read, Glob, Grep |\n\n## Example (implementer.md)\n\n```yaml\n---\nname: implementer\ndescription: Follows plans precisely. Writes minimal code to satisfy requirements. No scope creep. Use for mechanical code changes from explicit instructions.\nmodel: sonnet\ntools: Read, Edit, Write, Bash, Glob, Grep\n---\n```\n\nKeep existing markdown body unchanged. Just prepend frontmatter.\n\n## Files\n- ~/.claude/agents/implementer.md\n- ~/.claude/agents/researcher.md\n- ~/.claude/agents/reviewer.md\n- ~/.claude/agents/tester.md\n- ~/.claude/agents/architect.md\n- ~/.claude/agents/devil.md\n\n## Acceptance Criteria\n- All 6 agents have valid YAML frontmatter with name, description, model, tools\n- Existing markdown body unchanged\n- model values match table above","status":"closed","priority":1,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-09T19:48:52.203299-08:00","created_by":"Luan Santos","updated_at":"2026-02-09T19:52:49.278019-08:00","closed_at":"2026-02-09T19:52:49.278019-08:00","close_reason":"Closed"}
{"id":".claude-78w","title":"Add model: haiku to commit skill frontmatter","description":"Add model: haiku to commit/SKILL.md YAML frontmatter.\n\n## Edit\n\nFile: ~/.claude/skills/commit/SKILL.md\n\nold_string:\n```\ncontext: fork\nagent: general-purpose\n```\n\nnew_string:\n```\ncontext: fork\nagent: general-purpose\nmodel: haiku\n```\n\n## Acceptance Criteria\n- model: haiku present in commit/SKILL.md frontmatter\n- Rest of file unchanged","status":"closed","priority":1,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-09T19:48:55.260863-08:00","created_by":"Luan Santos","updated_at":"2026-02-09T19:53:21.618515-08:00","closed_at":"2026-02-09T19:53:21.618515-08:00","close_reason":"Closed"}
{"id":".claude-7fv","title":"Explore: pr-fix-comments skill for dot-claude repo","description":"## Acceptance Criteria\n- Findings stored in bead design field\n- Structured as Current State, Recommendation, and phased Next Steps\n- Each phase includes file paths and is independently actionable","design":"## Current State\n\n**Deleted from dot-claude** in commit 0b0a142 (Feb 11) as \"superseded skills\".\n\n**Upstream version** (repo-local):\n- Uses `uv run` + custom arg parsing library\n- Hardcoded repo name\n- Uses `git push` (breaks Graphite)\n- Missing `gt` from allowed-tools\n- Combines \"commit, push, resolve\" into one step\n\n**Old dot-claude version** (deleted):\n- Used `python3` + standard `argparse`\n- Repo-agnostic (auto-detected via `gh repo view`)\n- Used `gt ss --update-only` correctly\n\n## Recommendation\n\nNew skill in `~/.claude/skills/pr-fix-comments/` that:\n1. Repo-agnostic script (auto-detect via `gh repo view`)\n2. Standard python3 + argparse (no external deps)\n3. Two-phase confirmation: commit (ask) → push separately (ask)\n4. Uses `gt ss --update-only` not `git push`\n5. Never auto-pushes\n\n## Key Files\n\nCreate:\n- `~/.claude/skills/pr-fix-comments/skill.md`\n- `~/.claude/skills/pr-fix-comments/scripts/pr_threads.py`\n\n## Risks\n\n- `gh repo view` fails without git remote\n- `gt ss` fails if stack has conflicts\n- Thread resolution on draft PRs may differ\n\n## Next Steps\n\n**Phase 1: Skill prompt** (`skill.md`)\n**Phase 2: Script** (`pr_threads.py`)\n**Phase 3: Validate**","status":"closed","priority":2,"issue_type":"task","owner":"luan@thebrowser.company","created_at":"2026-02-13T11:13:49.632418-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T11:43:08.502715-08:00","closed_at":"2026-02-13T11:23:31.022359-08:00"}
{"id":".claude-a5d","title":"Explore: Redesign skill pipeline flow and prepare simplification","description":"## Acceptance Criteria\n- Findings stored in bead design field\n- Structured as Current State, Recommendation, and phased Next Steps\n- Each phase includes file paths and is independently actionable","design":"## Pipeline Redesign v2: After Studying Latest Reference Skills\n\n### Key Discovery: Their prepare is LIGHTWEIGHT\nOne subagent creates all tasks as thin design briefs — NO implementation code, NO test code. Workers implement from scratch.\n\n### Revised Phases\n\n**Phase 1: Rewrite prepare — one sonnet subagent, design briefs not code**\nFiles: skills/prepare/SKILL.md\n- Replace N opus subagents with ONE sonnet subagent for all tasks\n- Thin task template: Goal/Files/Approach/Criteria/Assumptions (no code)\n- Add bd swarm create after validate\n- Close source bead after success\n\n**Phase 2: Adapt implement for design briefs**\nFiles: skills/implement/SKILL.md\n- Remove \"Copy EXACTLY\" from solo + swarm prompts\n- Change pre-flight: \"tasks lack criteria or file paths → STOP\"\n- Workers: investigate → TDD from brief → build gate\n\n**Phase 3: Review/refine reorder + flow docs**\nFiles: skills/refine/SKILL.md, skills/review/SKILL.md, CLAUDE.md, rules/model-tiering.md\n- Refine pre-condition: after clean review\n- CLAUDE.md flow line update\n- model-tiering: prepare nested model opus → sonnet\n\n**Phase 4: Fix consolidation**\nFiles: skills/fix/SKILL.md\n- One bead with phased design field instead of N separate beads\n- Directly consumable by /prepare","status":"in_progress","priority":2,"issue_type":"task","owner":"github@luan.sh","created_at":"2026-02-13T23:27:36.043995-08:00","created_by":"Luan Santos","updated_at":"2026-02-14T08:36:26.493463-08:00"}
{"id":".claude-bxz","title":"Explore: Harden skills against insights friction points","description":"## Acceptance Criteria\n- Findings stored in bead design field\n- Structured as Current State, Recommendation, and phased Next Steps\n- Each phase includes file paths and is independently actionable","design":"## Insights Friction Analysis — Skills Hardening\n\n### Current State\n5 friction points from 158-session insights analysis. All have SOME defense in current skills/rules, but defenses are aspirational not procedural:\n\n1. **Buggy implementations (66x)**: Completion gate exists but isn't proceduralized. Workers copy untested code from prepare.\n2. **Wrong approach (65x)**: No \"read before write\" step in worker prompts. Workers skip investigation.\n3. **Indentation failures (8+ sessions)**: CLAUDE.md says \"match file style\" but workers never explicitly check.\n4. **Build errors left behind**: Gate exists in spirit but workers close tasks after own tests pass, not full build.\n5. **Context exhaustion**: Retry limit is conceptual (\"same approach\"), workers try variations indefinitely.\n\n### Root Cause\nWorker prompts in implement/SKILL.md are the ONLY text guaranteed to reach workers. Rules files, CLAUDE.md, and debugging methodology never reach them. The gap is in the worker dispatch prompt, not the rules.\n\n### Recommendation\nPrimary: Rewrite implement worker prompts with investigation-first protocol, indentation pre-flight, proceduralized build gate, fix-loop methodology, and scope limits.\nSecondary: Extend retry-limits, harden prepare task descriptions, add orchestrator scope control.\n\n### Phases\n\n**Phase 1: Harden worker prompts in implement SKILL.md**\nFiles: /Users/luan/.claude/skills/implement/SKILL.md\n- Add \"Step 0: Understand\" — read files, note indentation, verify prepared code against current state\n- Add indentation pre-flight: identify indent char + width before first Edit\n- Proceduralize completion gate: detect build cmd → run → loop max 3 → escalate\n- Wire debugging methodology: trace root cause, don't guess-and-patch\n- Scope limit: \u003e10 tool calls on single fix → checkpoint + escalate\n\n**Phase 2: Verify rules inheritance, conditionally create worker-discipline.md**\nFiles: /Users/luan/.claude/rules/worker-discipline.md (conditional)\n- Empirical test: do Task subagents see rules files?\n- If yes: extract reusable patterns into shared rules file\n- If no: document finding, skip\n\n**Phase 3: Extend retry-limits.md**\nFiles: /Users/luan/.claude/rules/retry-limits.md\n- Add worker-specific caps: 3 fix iterations total, \u003e10 tool calls → escalate\n- Keep existing main-thread rule\n\n**Phase 4: Harden prepare task descriptions**\nFiles: /Users/luan/.claude/skills/prepare/SKILL.md\n- Add ## Assumptions section requirement to prepared tasks\n- Workers verify assumptions before coding\n\n**Phase 5: Orchestrator scope control**\nFiles: /Users/luan/.claude/skills/implement/SKILL.md\n- Pause after worker escalations / \u003e2 failed verifications\n- Cap at 3 waves without progress report","status":"closed","priority":2,"issue_type":"task","owner":"github@luan.sh","created_at":"2026-02-13T22:44:00.443719-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T23:03:22.607097-08:00","closed_at":"2026-02-13T23:03:22.607097-08:00","close_reason":"Closed"}
{"id":".claude-e56","title":"Redesign skill pipeline: prepare simplification + flow reorder","description":"## Problem\nprepare spins up N opus subagents writing speculative code into tasks. Workers rewrite it anyway. Flow order has refine before review. Review's built-in fix loop is undocumented.\n\n## Solution\nONE sonnet subagent for prepare (design briefs not code). Workers own TDD. Review before refine. Document review fix loop.\n\n## Success Criteria\n- prepare uses single sonnet subagent with design brief template\n- implement workers do TDD from briefs, not copy speculative code\n- Flow: explore → prepare → implement → review → refine → commit\n- Review fix loop documented in CLAUDE.md","status":"open","priority":1,"issue_type":"epic","owner":"github@luan.sh","created_at":"2026-02-13T23:31:43.175839-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T23:31:43.175839-08:00"}
{"id":".claude-e56.1","title":"prepare: replace opus subagents with sonnet, replace code templates with design briefs","description":"## Context\nEpic: .claude-e56\n\n## Goal\nTransform prepare skill from generating full implementation code to generating design briefs. Replace N opus subagents (one per phase) with ONE sonnet subagent for all tasks. Shift from code-centric task descriptions to approach-centric design briefs.\n\n## Files\n- Read: /Users/luan/.claude/skills/prepare/SKILL.md (understand current structure, subagent dispatch, task template)\n- Modify: /Users/luan/.claude/skills/prepare/SKILL.md\n\n## Approach\n1. Update header description (line 17): \"phased tasks with full implementation code\" → \"phased tasks with design briefs\"\n2. Replace step 5 task creation template:\n   - Change from \"Complete copy-pasteable test + implementation code\" to design brief template\n   - Keep: file paths, approach, criteria, assumptions, dependencies, swarm validation\n   - Remove: \"Complete copy-pasteable test + implementation code\", \"TDD: red → green → refactor baked in\", step-by-step implementation sections\n   - Add design brief sections: Goal, Files (Read/Modify/Create with why), Approach (how to implement, key decisions), Acceptance Criteria (testable), Assumptions (what must be true about files)\n3. Change \"Spawn phases sequentially\" (line 104) to single dispatch: dispatch ONE subagent that creates ALL tasks sequentially\n4. Update subagent dispatch from opus to sonnet (line 45)\n5. Remove quality requirements lines 95-99 referencing complete code\n6. Keep: swarm validation, dependency detection, epic creation, error handling\n\n## Acceptance Criteria\n- [ ] Header description updated to reference design briefs\n- [ ] Task template changed to design brief format (Goal/Files/Approach/Criteria/Assumptions)\n- [ ] No references to \"complete code\" or \"copy-pasteable test + implementation\"\n- [ ] Single sonnet subagent dispatch instead of N opus subagents\n- [ ] File paths, acceptance criteria, assumptions still included in template\n- [ ] Swarm validation and dependency detection unchanged\n\n## Assumptions\n- SKILL.md uses yaml frontmatter + markdown sections\n- Step 5 contains the task creation template (lines 45-105)\n- Subagent dispatch uses Task tool with model parameter\n- Epic creation and swarm validation steps (4, 7) remain unchanged","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T23:32:31.199212-08:00","created_by":"Luan Santos","updated_at":"2026-02-14T08:39:39.903846-08:00","closed_at":"2026-02-14T08:39:39.903846-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-e56.1","depends_on_id":".claude-e56","type":"parent-child","created_at":"2026-02-13T23:32:31.199861-08:00","created_by":"Luan Santos"}]}
{"id":".claude-e56.2","title":"implement: remove code-copying, adapt to design brief workflow","description":"## Context\nEpic: .claude-e56\n\n## Goal\nTransform implement skill from copy-paste workflow to design-driven development. Remove all references to copying prepared code. Update solo and swarm modes to read design briefs and implement from scratch using TDD.\n\n## Files\n- Read: /Users/luan/.claude/skills/implement/SKILL.md (understand pre-flight checks, solo mode per-task flow, swarm worker flow, key rules)\n- Modify: /Users/luan/.claude/skills/implement/SKILL.md\n\n## Approach\n1. Update pre-flight check (line 47): \"tasks lack code in description → STOP\" → \"tasks lack acceptance criteria or file paths → STOP\"\n2. Solo mode per-task flow (lines 50-56):\n   - Remove: \"Copy test code EXACTLY → verify fails\", \"Copy implementation EXACTLY → verify passes\"\n   - Add: \"investigate → design → TDD from brief (not copy)\"\n   - Keep: Step 0 (understand, read files, verify assumptions, note indentation)\n   - Add after Step 0: implement using TDD based on brief's approach/criteria\n3. Swarm worker flow (lines 102-110):\n   - Replace line 108 \"Verify prepared code matches current state\" with \"Read every file. Verify assumptions. Plan approach from brief.\"\n   - Keep: indentation detection, file ownership, build gate, merge-slot\n4. Key rules section (lines 153-162):\n   - Remove line 156: \"Copy code EXACTLY from task descriptions\"\n   - Add: \"Workers own implementation — briefs give direction, not code\"\n5. Keep unchanged: task atomicity, side quests, completion gates, fix methodology, error handling\n\n## Acceptance Criteria\n- [ ] Pre-flight check updated to look for criteria/paths not code\n- [ ] Solo mode removes \"copy EXACTLY\" instructions\n- [ ] Solo mode adds TDD workflow from brief\n- [ ] Swarm worker removes code verification, adds assumption verification\n- [ ] Key rules removes \"copy code EXACTLY\", adds brief-driven language\n- [ ] Indentation detection, build gates, file ownership unchanged\n\n## Assumptions\n- SKILL.md has Solo Mode and Swarm Mode sections\n- Line numbers approximate (steps 3-5 in solo, work loop steps in swarm)\n- Pre-flight check is at beginning of Solo Mode section\n- Key Rules section exists at end of file","status":"in_progress","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T23:32:53.896586-08:00","created_by":"Luan Santos","updated_at":"2026-02-14T08:39:47.615708-08:00","dependencies":[{"issue_id":".claude-e56.2","depends_on_id":".claude-e56","type":"parent-child","created_at":"2026-02-13T23:32:53.897257-08:00","created_by":"Luan Santos"}]}
{"id":".claude-e56.3","title":"review/refine/docs: reorder flow, update model tier, add preconditions","description":"## Context\nEpic: .claude-e56\n\n## Goal\nUpdate workflow documentation to reflect review-includes-fixes loop and refine-after-clean-review pattern. Update model tier for prepare nested model. Add preconditions to refine skill.\n\n## Files\n- Read: /Users/luan/.claude/skills/refine/SKILL.md (skill composition table)\n- Read: /Users/luan/.claude/skills/review/SKILL.md (footer section with \"Next:\" guidance)\n- Read: /Users/luan/.claude/CLAUDE.md (workflow skills flow line)\n- Read: /Users/luan/.claude/rules/model-tiering.md (prepare nested model assignment)\n- Modify: /Users/luan/.claude/skills/refine/SKILL.md\n- Modify: /Users/luan/.claude/skills/review/SKILL.md\n- Modify: /Users/luan/.claude/CLAUDE.md\n- Modify: /Users/luan/.claude/rules/model-tiering.md\n\n## Approach\n1. refine/SKILL.md skill composition table:\n   - Add row BEFORE existing rows: \"Before refine | Run review until clean\" or similar pre-condition language\n   - Remove row \"Found real issues | review\" (review is upstream, not downstream)\n2. review/SKILL.md footer (after line 90 \"Next: `/prepare \u003cbead-id\u003e`\"):\n   - Add: \"Clean review → /refine then /commit\"\n   - Keep existing prepare guidance for new work discovery\n3. CLAUDE.md workflow flow (line 62):\n   - Change: \"explore → prepare → implement → review → commit\" → \"explore → prepare → implement → review → refine → commit\"\n   - Add note after flow: \"Review includes fix loop\" or similar to clarify review iterates internally\n4. CLAUDE.md workflow skills table (line 59):\n   - Update refine description: \"Polish post-implementation\" → \"Polish after review passes\"\n5. model-tiering.md prepare row (line 18):\n   - Change: \"prepare | inherit | opus (task creation)\" → \"prepare | inherit | sonnet (task creation)\"\n\n## Acceptance Criteria\n- [ ] refine skill composition shows pre-condition, no \"invoke review\" row\n- [ ] review footer mentions /refine for clean reviews\n- [ ] CLAUDE.md flow includes refine between review and commit\n- [ ] CLAUDE.md notes review iterates internally\n- [ ] model-tiering.md prepare nested model is sonnet\n\n## Assumptions\n- CLAUDE.md has workflow skills table and flow description in separate sections\n- review/SKILL.md has footer after Step 6b\n- refine/SKILL.md has Skill Composition table at end\n- model-tiering.md has table with prepare row","status":"open","priority":2,"issue_type":"task","owner":"github@luan.sh","created_at":"2026-02-13T23:33:15.558001-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T23:33:15.558001-08:00","dependencies":[{"issue_id":".claude-e56.3","depends_on_id":".claude-e56","type":"parent-child","created_at":"2026-02-13T23:33:15.558697-08:00","created_by":"Luan Santos"},{"issue_id":".claude-e56.3","depends_on_id":".claude-e56.1","type":"blocks","created_at":"2026-02-13T23:33:27.137457-08:00","created_by":"Luan Santos"},{"issue_id":".claude-e56.3","depends_on_id":".claude-e56.2","type":"blocks","created_at":"2026-02-13T23:33:27.193763-08:00","created_by":"Luan Santos"}]}
{"id":".claude-e56.4","title":"fix: consolidate to one bead with phased design field","description":"## Context\nEpic: .claude-e56\n\n## Goal\nChange fix skill from creating N separate beads (one per finding) to creating ONE bead with all findings structured as phases in the design field. This makes fix output directly consumable by /prepare.\n\n## Files\n- Read: skills/fix/SKILL.md (understand current N-bead approach)\n- Read: /Users/luan/.claude/references/skills/fix/SKILL.md (reference pattern)\n- Modify: skills/fix/SKILL.md\n\n## Approach\n- Single bead with phased design field\n- Phase grouping: bugs first, tasks second, features third\n- Each phase follows the **Phase N: Title** format that prepare parses\n- Keep: classification logic, dynamic context\n- Remove: per-finding bead creation loop\n\n## Acceptance Criteria\n- [ ] Fix creates ONE bead (not N)\n- [ ] Findings structured as phases in design field\n- [ ] Phases grouped by type (bug \u003e task \u003e feature)\n- [ ] Output directly consumable by /prepare (Phase N format)\n- [ ] Classification logic preserved\n\n## Assumptions\n- fix/SKILL.md currently creates separate beads in a loop per finding\n- prepare parses **Phase N: Title** format from design fields","status":"open","priority":2,"issue_type":"task","owner":"github@luan.sh","created_at":"2026-02-14T08:36:36.954407-08:00","created_by":"Luan Santos","updated_at":"2026-02-14T08:36:36.954407-08:00","dependencies":[{"issue_id":".claude-e56.4","depends_on_id":".claude-e56","type":"parent-child","created_at":"2026-02-14T08:36:36.955-08:00","created_by":"Luan Santos"},{"issue_id":".claude-e56.4","depends_on_id":".claude-e56.1","type":"blocks","created_at":"2026-02-14T08:36:41.655405-08:00","created_by":"Luan Santos"}]}
{"id":".claude-hyl","title":"Add model: sonnet to split-commit Phase 2 dispatch","description":"Change split-commit Phase 2 per-commit dispatch to sonnet.\n\n## Edit\n\nFile: ~/.claude/skills/split-commit/SKILL.md\n\nold_string:\n```\nDispatch one subagent per commit, **sequentially**:\n```\n\nnew_string:\n```\nDispatch one subagent per commit (model: \"sonnet\"), **sequentially**:\n```\n\n## Acceptance Criteria\n- Phase 2 dispatch includes model: sonnet\n- Phase 1 dispatch unchanged (stays opus/inherit)\n- Rest of file unchanged","status":"closed","priority":1,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-09T19:49:08.99775-08:00","created_by":"Luan Santos","updated_at":"2026-02-09T19:53:24.600802-08:00","closed_at":"2026-02-09T19:53:24.600802-08:00","close_reason":"Closed"}
{"id":".claude-jdi","title":"Harden skills against insights friction points","description":"## Problem\n158-session insights analysis reveals 131 friction events from buggy implementations + wrong approaches. Worker prompts lack investigation steps, build gate procedures, indentation checks, and scope limits. Rules/CLAUDE.md don't reach subagent workers.\n\n## Solution\nRewrite implement worker prompts (primary), extend retry-limits, harden prepare descriptions, add orchestrator scope control.\n\n## Success Criteria\n- Implement worker prompts include investigation-first, indentation pre-flight, proceduralized build gate\n- Retry limits extended with worker-specific caps\n- Prepare tasks include assumptions section\n- Orchestrator pauses on escalations","status":"closed","priority":1,"issue_type":"epic","owner":"github@luan.sh","created_at":"2026-02-13T22:48:44.432234-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T23:03:22.530213-08:00","closed_at":"2026-02-13T23:03:22.530213-08:00","close_reason":"Closed"}
{"id":".claude-jdi.1","title":"Harden implement worker prompts with investigation, build gates, and scope limits","description":"## Context\nEpic: .claude-jdi — Harden skills against insights friction points\nPhase 1: Highest-leverage change. Worker prompts are the ONLY text\nguaranteed to reach subagent workers.\n\n## Files\n- Modify: skills/implement/SKILL.md\n\n## Acceptance Criteria\n- [ ] Solo worker prompt includes read-files-first step\n- [ ] Indentation pre-flight before first Edit\n- [ ] Completion gate is numbered procedure with max 3 fix attempts\n- [ ] Fix methodology references root-cause tracing\n- [ ] Scope limit: \u003e10 tool calls on fix → escalate\n- [ ] Swarm worker prompt has equivalent additions\n- [ ] Prompt additions are terse (matching existing style)\n\n## Implementation\n\n### Edit 1: Solo Mode — Add Step 0 + indentation + fix methodology\n\nold_string:\n```\n5. Per task:\n   - `bd show \u003ctask-id\u003e` + `bd update \u003ctask-id\u003e --claim`\n   - Copy test code EXACTLY → verify fails\n   - Copy implementation EXACTLY → verify passes\n   - **Completion gate (MANDATORY):** No `bd close` without ALL:\n     1. Build clean (zero errors)\n     2. Tests pass (new + existing in scope)\n     3. Linter clean (clippy/eslint/swiftc as applicable)\n     Detect build cmd from justfile/Makefile/package.json/CLAUDE.md.\n     ANY failure → fix loop. Never skip.\n   - `bd close \u003ctask-id\u003e`\n```\n\nnew_string:\n```\n5. Per task:\n   - `bd show \u003ctask-id\u003e` + `bd update \u003ctask-id\u003e --claim`\n   - **Step 0 — Understand:** Read EVERY file listed in task. Note indent style (tabs vs spaces + width). Verify prepared code matches current file state. Adapt if diverged.\n   - **Indentation pre-flight:** Before first Edit to any file: read file, identify indent char + width. Use EXACTLY that in all edits to that file.\n   - Copy test code EXACTLY → verify fails\n   - Copy implementation EXACTLY → verify passes\n   - **Completion gate (before bd close):**\n     1. Detect build cmd: justfile/Makefile/package.json/CLAUDE.md\n     2. Run build. Exit != 0 → trace error to root cause, fix (max 3 attempts)\n     3. Run tests: new + existing touching modified files\n     4. Run linter if applicable\n     5. ALL green → `bd close`. ANY red after 3 attempts → report error output, do NOT close\n   - **Fix methodology:** Read error → trace to root cause → ONE targeted fix. No guess-and-patch. \u003e10 tool calls on single fix → checkpoint findings + escalate to caller.\n   - `bd close \u003ctask-id\u003e`\n```\n\n### Edit 2: Swarm Mode — Add investigation + gates to worker prompt\n\nold_string:\n```\n  ## Work Loop\n  1. `bd ready --parent \u003cepic-id\u003e --unassigned`\n  2. `bd show \u003cid\u003e` → `bd update \u003cid\u003e --claim` (fails if claimed → step 1)\n  3. Respect file ownership — YOUR files while in_progress\n  4. Failing test FIRST → minimal implementation\n  4b. Build check. Fix until clean.\n  5. `bd merge-slot acquire --wait` → git add/commit → `bd merge-slot release`\n  6. `bd close \u003cid\u003e`\n  7. → step 1. Empty → report completion\n```\n\nnew_string:\n```\n  ## Work Loop\n  1. `bd ready --parent \u003cepic-id\u003e --unassigned`\n  2. `bd show \u003cid\u003e` → `bd update \u003cid\u003e --claim` (fails if claimed → step 1)\n  3. **Understand first:** Read every file in task. Note indent (char + width). Verify prepared code matches current state. Adapt if diverged.\n  4. Respect file ownership — YOUR files while in_progress\n  5. Before first Edit per file: read it, match indent exactly.\n  6. Failing test FIRST → minimal implementation\n  7. **Build gate (max 3 attempts):**\n     a. Build cmd from justfile/Makefile/package.json/CLAUDE.md\n     b. Build + tests + linter. All green → continue. Red → root-cause, ONE fix.\n     c. 3 fails → report error, do NOT close.\n     d. \u003e10 tool calls on one fix → checkpoint + escalate.\n  8. `bd merge-slot acquire --wait` → git add/commit → `bd merge-slot release`\n  9. `bd close \u003cid\u003e`\n  10. → step 1. Empty → report completion\n```","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T22:49:27.385627-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T23:01:27.744691-08:00","closed_at":"2026-02-13T23:01:27.744691-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-jdi.1","depends_on_id":".claude-jdi","type":"parent-child","created_at":"2026-02-13T22:49:27.386291-08:00","created_by":"Luan Santos"}]}
{"id":".claude-jdi.2","title":"Verify rules inheritance and conditionally create worker-discipline.md","description":"## Context\nEpic: .claude-jdi — Harden skills against insights friction points\n\n## Files\n- Create (conditional): rules/worker-discipline.md\n\n## Acceptance Criteria\n- [ ] Empirical test confirms whether Task subagents see rules/*.md\n- [ ] If YES: worker-discipline.md created with indentation protocol, build gate, scope limits\n- [ ] If NO: finding documented, phase closed without file creation\n\n## Implementation\n\n### Step 1: Empirical test\nDispatch a Task subagent (subagent_type=general-purpose) with prompt:\n\"List any rules or instructions you see from files in /Users/luan/.claude/rules/. Quote the first line from each rule file you can see. If you see none, say NONE.\"\n\n### Step 2: Evaluate result\n- If subagent quotes content from rules files → rules ARE inherited → proceed to Step 3\n- If subagent says NONE → rules are NOT inherited → skip to Step 4\n\n### Step 3: Create worker-discipline.md (only if rules inherited)\nWrite /Users/luan/.claude/rules/worker-discipline.md:\n```markdown\n# Worker Discipline\n\n## Indentation Pre-Flight\nBefore first Edit to any file: read file, identify indent style (tabs vs spaces + width). Use EXACTLY that in all edits. Tab/space mismatch causes cascading Edit tool failures.\n\n## Build Gate (before closing any task)\n1. Detect build cmd: justfile/Makefile/package.json/CLAUDE.md\n2. Run build. Exit != 0 → trace error to root cause, fix (max 3 attempts)\n3. Run tests: new + existing touching modified files\n4. Run linter if applicable\n5. ALL green → close task. Red after 3 → escalate with error output\n\n## Fix Methodology\nWhen build/test fails: read the error, trace to root cause, make ONE targeted fix per attempt. Do NOT guess-and-patch.\n\n## Scope Limits\n- Max 3 fix iterations per failure (total, not per approach)\n- \u003e10 tool calls on single fix → checkpoint findings and escalate\n- Never start new task after 3+ completed tasks without orchestrator check-in\n```\n\n### Step 4: Document finding\nReport whether rules are inherited or not.","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T22:49:57.399714-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T23:00:51.111756-08:00","closed_at":"2026-02-13T23:00:51.111756-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-jdi.2","depends_on_id":".claude-jdi","type":"parent-child","created_at":"2026-02-13T22:49:57.400316-08:00","created_by":"Luan Santos"}]}
{"id":".claude-jdi.3","title":"Extend retry-limits with worker-specific caps","description":"## Context\nEpic: .claude-jdi — Harden skills against insights friction points\n\n## Files\n- Modify: rules/retry-limits.md\n\n## Acceptance Criteria\n- [ ] Worker Fix Loops section added\n- [ ] Hard numeric caps: 3 fix iterations total, \u003e10 tool calls → escalate\n- [ ] Existing main-thread rule preserved\n\n## Implementation\n\n### Step 1: Read current file\nRead /Users/luan/.claude/rules/retry-limits.md\n\n### Step 2: Add worker section\nAppend after existing content:\n\n## Worker Fix Loops\n- Max 3 fix iterations per failure (total, not per approach)\n- \u003e10 tool calls on single fix → checkpoint findings + escalate to caller\n- After 3+ completed tasks in one session → report status before starting next","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T22:50:17.238889-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T23:00:49.565294-08:00","closed_at":"2026-02-13T23:00:49.565294-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-jdi.3","depends_on_id":".claude-jdi","type":"parent-child","created_at":"2026-02-13T22:50:17.239509-08:00","created_by":"Luan Santos"}]}
{"id":".claude-jdi.4","title":"Add assumptions section requirement to prepare task descriptions","description":"## Context\nEpic: .claude-jdi — Harden skills against insights friction points\n\n## Files\n- Modify: /Users/luan/.claude/skills/prepare/SKILL.md\n\n## Acceptance Criteria\n- [ ] Subagent prompt includes requirement for ## Assumptions section\n- [ ] Workers can verify assumptions before blindly copying code\n\n## Implementation\n\n### Step 1: Read file\nRead /Users/luan/.claude/skills/prepare/SKILL.md\n\n### Step 2: Add to Quality Requirements section\nAfter line 100 (existing quality requirements bullets), add new requirement:\n- Include ## Assumptions section listing what must be true about referenced files (structure, imports, exports) for implementation to work. Workers verify these before coding.","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T22:50:45.259713-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T23:02:04.008848-08:00","closed_at":"2026-02-13T23:02:04.008848-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-jdi.4","depends_on_id":".claude-jdi","type":"parent-child","created_at":"2026-02-13T22:50:45.260348-08:00","created_by":"Luan Santos"},{"issue_id":".claude-jdi.4","depends_on_id":".claude-jdi.1","type":"blocks","created_at":"2026-02-13T22:51:23.766401-08:00","created_by":"Luan Santos"}]}
{"id":".claude-jdi.5","title":"Add orchestrator scope control to implement wave loop","description":"## Context\nEpic: .claude-jdi — Harden skills against insights friction points\n\n## Files\n- Modify: skills/implement/SKILL.md\n\n## Acceptance Criteria\n- [ ] Wave loop pauses if any worker reports escalation or \u003e2 tasks failed verification\n- [ ] Wave loop caps at 3 waves without user progress report\n- [ ] Existing verify-fix loop preserved\n\n## Implementation\n\n### Step 1: Read file\nRead /Users/luan/.claude/skills/implement/SKILL.md\n\n### Step 2: Add to Wave Loop\nAfter \"Wait for all workers to complete.\" and before \"Check bd swarm status\", add:\n- If any worker reported escalation or \u003e2 tasks failed build gate → PAUSE. Report status to user before continuing.\n- After 3 waves, report progress to user regardless. Do not run unbounded wave loops.","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-13T22:51:13.562691-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T23:02:48.818599-08:00","closed_at":"2026-02-13T23:02:48.818599-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-jdi.5","depends_on_id":".claude-jdi","type":"parent-child","created_at":"2026-02-13T22:51:13.563345-08:00","created_by":"Luan Santos"},{"issue_id":".claude-jdi.5","depends_on_id":".claude-jdi.1","type":"blocks","created_at":"2026-02-13T22:51:23.696815-08:00","created_by":"Luan Santos"}]}
{"id":".claude-kgh","title":"Add model: sonnet to compress-prompt + haiku nested dispatches","description":"Two changes in compress-prompt/SKILL.md:\n\n## Edit 1: Frontmatter\n\nold_string:\n```\ncontext: fork\nagent: general-purpose\n```\n\nnew_string:\n```\ncontext: fork\nagent: general-purpose\nmodel: sonnet\n```\n\n## Edit 2: Nested dispatch\n\nold_string:\n```\n   - subagent_type: \"general-purpose\"\n```\n\nnew_string:\n```\n   - subagent_type: \"general-purpose\"\n   - model: \"haiku\"\n```\n\n## Acceptance Criteria\n- model: sonnet in frontmatter\n- model: haiku in nested Task dispatch\n- Rest of file unchanged","status":"closed","priority":1,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-09T19:48:58.767192-08:00","created_by":"Luan Santos","updated_at":"2026-02-09T19:53:22.687848-08:00","closed_at":"2026-02-09T19:53:22.687848-08:00","close_reason":"Closed"}
{"id":".claude-ktm","title":"Add model: sonnet to feedback skill dispatch","description":"Change feedback dispatch to use sonnet model.\n\n## Edit\n\nFile: ~/.claude/skills/feedback/SKILL.md\n\nold_string:\n```\nSpawn general-purpose agent via Task:\n```\n\nnew_string:\n```\nSpawn general-purpose agent via Task (model: \"sonnet\"):\n```\n\n## Acceptance Criteria\n- Dispatch instruction includes model: sonnet\n- Rest of file unchanged","status":"closed","priority":1,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-09T19:49:00.192115-08:00","created_by":"Luan Santos","updated_at":"2026-02-09T19:53:23.564471-08:00","closed_at":"2026-02-09T19:53:23.564471-08:00","close_reason":"Closed"}
{"id":".claude-merge-slot","title":"Merge Slot","description":"Exclusive access slot for serialized conflict resolution in the merge queue.","status":"tombstone","priority":0,"issue_type":"task","created_at":"2026-02-13T22:24:28.545934-08:00","updated_at":"2026-02-13T22:24:34.344348-08:00","labels":["gt:slot"],"deleted_at":"2026-02-13T22:24:34.344348-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":".claude-oak","title":"Test: hook verification","status":"tombstone","priority":4,"issue_type":"bug","owner":"github@luan.sh","created_at":"2026-02-08T19:21:03.130775-08:00","created_by":"Luan Santos","updated_at":"2026-02-08T19:21:13.716805-08:00","deleted_at":"2026-02-08T19:21:13.716805-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"bug"}
{"id":".claude-sdg","title":"pr-fix-comments skill for dot-claude","description":"## Problem\nUpstream pr-fix-comments uses `git push` (breaks Graphite) and hardcodes repo.\nOld dot-claude version was deleted Feb 11. Need repo-agnostic replacement.\n\n## Solution\nNew skill at `~/.claude/skills/pr-fix-comments/` with:\n- Repo-agnostic script (auto-detect via `gh repo view`)\n- Standard python3 + argparse (no external deps)\n- Two-phase: commit (ask) → push separately (ask)\n- Uses `gt ss --update-only` not `git push`\n\n## Success Criteria\n- Script runs standalone: `python3 scripts/pr_threads.py fetch --pr \u003cN\u003e`\n- Skill uses Graphite for push\n- Commit and push are separate confirmations\n- No external dependencies beyond stdlib","status":"open","priority":1,"issue_type":"epic","owner":"luan@thebrowser.company","created_at":"2026-02-13T11:22:07.589056-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T11:43:29.757383-08:00"}
{"id":".claude-sdg.1","title":"Create skill.md for pr-fix-comments","description":"## Context\nEpic: .claude-sdg\nDepends on: pr_threads.py script task\n\n## Files\n- Create: ~/.claude/skills/pr-fix-comments/skill.md\n\n## Acceptance Criteria\n- [x] Frontmatter matches pr-fix-gha pattern\n- [x] Uses python3 + global path for script\n- [x] Commit and push are separate steps with separate confirmations\n- [x] Push uses gt ss --update-only\n- [x] Never auto-pushes\n- [x] Commit uses Skill tool: commit\n\n## Implementation\n\n### Step 1: Create skill.md\n\n```markdown\n---\nname: pr-fix-comments\ndescription: \"Fix unresolved PR review comments. Triggers: 'fix comments', 'fix PR comments', 'address review feedback'.\"\nuser-invocable: true\nallowed-tools:\n  - \"Bash(python3 ~/.claude/skills/pr-fix-comments/scripts/pr_threads.py *)\"\n  - \"Bash(gh pr view *)\"\n  - \"Bash(gh pr list *)\"\n  - \"Bash(git branch --show-current)\"\n  - \"Bash(git add *)\"\n  - \"Bash(gt *)\"\n  - Read\n  - Edit\n  - Glob\n  - Grep\n---\n\n# PR Comments Fixer\n\nFix unresolved review comments from a PR.\n\n**Safety: NEVER auto-pushes. Push optional + requires confirmation.**\n\n## Steps\n\n1. **Detect PR**: `gh pr view --json number -q '.number'` or ask user\n\n2. **Verify branch** (if PR specified manually):\n   - `git branch --show-current` vs `gh pr view \u003cPR\u003e --json headRefName -q .headRefName`\n   - Mismatch → ask user\n\n3. **Fetch and display comments**:\n\n   ```bash\n   python3 ~/.claude/skills/pr-fix-comments/scripts/pr_threads.py fetch --pr \u003cPR\u003e\n   ```\n\n   Display as numbered list with file:line, author, preview.\n   Ask \"Which comment(s) to fix?\" with options: \"Fix all\" / \"Other\"\n\n4. **Plan fixes**: For each comment, read code, create one-line fix description.\n   Ask \"Ready to execute?\"\n\n5. **Execute**: Apply fixes, summarize changes.\n\n6. **Commit**: Use `Skill tool: commit` to generate message and commit.\n\n7. **Push** (optional): Ask first, then `gt ss --update-only`\n\n8. **Resolve threads**: Show planned replies, ask confirmation, then:\n\n   ```bash\n   python3 ~/.claude/skills/pr-fix-comments/scripts/pr_threads.py reply --pr \u003cPR\u003e --comment-id \u003cID\u003e --body \"\u003cmessage\u003e\"\n   python3 ~/.claude/skills/pr-fix-comments/scripts/pr_threads.py resolve --thread-id \u003cTHREAD_ID\u003e\n   ```\n\n   Reply format:\n   - Exact fix: \"Done [pr-fix-comments]\"\n   - Custom fix: \"{brief explanation} [pr-fix-comments]\"\n\n## Notes\n\n- User confirms plan before execution\n- NEVER post thread replies without showing user first\n- Be concise — don't over-explain trivial fixes\n```","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"luan@thebrowser.company","created_at":"2026-02-13T11:22:58.199358-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T11:26:45.101464-08:00","closed_at":"2026-02-13T11:26:45.101464-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-sdg.1","depends_on_id":".claude-sdg","type":"parent-child","created_at":"2026-02-13T11:22:58.200053-08:00","created_by":"Luan Santos"},{"issue_id":".claude-sdg.1","depends_on_id":".claude-sdg.2","type":"blocks","created_at":"2026-02-13T11:23:18.757028-08:00","created_by":"Luan Santos"}]}
{"id":".claude-sdg.2","title":"Port pr_threads.py to argparse with auto-detection","description":"## Context\nEpic: .claude-sdg — Port pr-fix-comments skill to be repo-agnostic.\n\n## Files\n- Create: ~/.claude/skills/pr-fix-comments/scripts/pr_threads.py\n\n## Acceptance Criteria\n- [ ] Uses python3 shebang, no external deps\n- [ ] Auto-detects repo via `gh repo view --json nameWithOwner`\n- [ ] Same CLI interface: fetch/resolve/reply with same flags\n- [ ] Same JSON output format\n- [ ] Runs standalone: `python3 pr_threads.py fetch --pr 12345`","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"luan@thebrowser.company","created_at":"2026-02-13T11:23:04.68033-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T11:43:36.562254-08:00","closed_at":"2026-02-13T11:26:06.043947-08:00","close_reason":"Closed","dependencies":[{"issue_id":".claude-sdg.2","depends_on_id":".claude-sdg","type":"parent-child","created_at":"2026-02-13T11:23:04.681178-08:00","created_by":"Luan Santos"}]}
{"id":".claude-sst","title":"Explore: pr-description skill for dot-claude","description":"## Acceptance Criteria\n- Findings stored in bead design field\n- Structured as Current State, Recommendation, and phased Next Steps\n- Each phase includes file paths and is independently actionable","design":"## Current State\n\n**Location**: Upstream repo-local skill (not in dot-claude).\n\n**Flow**:\n1. Check git state (on branch, has commits)\n2. Get diff via `git diff origin/main...HEAD`\n3. LLM generates title + body from diff\n4. Offers to create/update PR\n\n**Problem**: Title generation uses generic LLM patterns, ignores conventional commit format from commit skill.\n\n## Recommendation\n\nSingle-file skill at `~/.claude/skills/pr-description/skill.md` that:\n1. Embeds conventional commit title format rules (same as commit skill)\n2. Generates WHY-focused body\n3. Assumes existing PR — update only\n4. Never auto-submits — preview + confirm\n\n## Risks\n\n- Conventions drift if commit skill changes (low risk — format is stable)\n- Stacked PRs: diff should be vs stack parent, not main","status":"closed","priority":2,"issue_type":"task","owner":"luan@thebrowser.company","created_at":"2026-02-13T14:40:33.635676-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T14:53:37.452171-08:00","closed_at":"2026-02-13T14:51:54.544879-08:00"}
{"id":".claude-u26","title":"Explore: Audit and revise all skills against Anthropic best practices","description":"## Acceptance Criteria\n- Findings stored in bead design field\n- Structured as Current State, Recommendation, and phased Next Steps\n- Each phase includes file paths and is independently actionable\n- All skills audited against Anthropic's Complete Guide to Building Skills\n- writing-skills skill verified first","design":"## Skills Audit Against Anthropic Best Practices Guide\n\n### Current State\n20 skills found. 18 correct `SKILL.md`, 2 broken (`skill.md`). Generally high quality with consistent internal style. Main systemic issues: 2 wrong filenames, description gaps, missing structural rules in writing-skills, references to nonexistent skills.\n\n### Writing-Skills Verdict\nTeaches good TDD methodology for skill creation (keep this). But has material gaps:\n- Missing rules: no claude/anthropic names, no XML in frontmatter, no README.md, \u003c1024 char limit\n- Description guidance contradicts guide: says \"ONLY triggers\" but guide requires WHAT + WHEN\n- Missing standard dirs: references/, assets/\n- Missing progressive disclosure 3-level model explanation\n\n### Per-Skill Grades\nA: refine, pr-reviewers\nA-: commit, explore, graphite, prepare, resume-work, review, pr-description (content), pr-fix-comments (content), pr-fix-gha\nB+: compress-prompt, debugging, implement, split-commit, start\nB: fix, git-surgeon, reference-sync\nF (discoverability): pr-description, pr-fix-comments (wrong filename)\n\n### Phases\n**Phase 1: Critical filename fixes**\nFiles: pr-description/skill.md, pr-fix-comments/skill.md\nTwo-step git mv for case-insensitive FS\n\n**Phase 2: Update writing-skills**\nFiles: writing-skills/SKILL.md\nAdd missing rules, fix description contradiction, add standard dirs\n\n**Phase 3: Fix broken skill references**\nFiles: debugging/SKILL.md, implement/SKILL.md\nRemove references to nonexistent skills (team-debug, tdd, verification-before-completion, finishing-branch) or create stubs\n\n**Phase 4: Description quality pass**\nFiles: compress-prompt, git-surgeon, graphite, reference-sync, implement SKILL.md\nAdd WHAT + WHEN + triggers to descriptions\n\n**Phase 5: Cleanup and normalization**\nFiles: pr-fix-gha, fix, multiple\nRemove redundant frontmatter, fix numbering, normalize allowed-tools syntax, add error handling\n\n**Phase 6: Progressive disclosure for long skills**\nFiles: review, pr-reviewers SKILL.md + new references/ dirs\nMove detailed prompts/algorithms to references/","status":"closed","priority":2,"issue_type":"task","owner":"github@luan.sh","created_at":"2026-02-13T22:02:50.653881-08:00","created_by":"Luan Santos","updated_at":"2026-02-13T22:34:06.850617-08:00","closed_at":"2026-02-13T22:34:06.850617-08:00","close_reason":"Closed"}
{"id":".claude-uxd","title":"Create rules/model-tiering.md documentation","description":"Create ~/.claude/rules/model-tiering.md documenting model tiering policy.\n\n## Content\n\n- Three tiers: Deep (opus), Standard (sonnet), Fast (haiku)\n- Skill assignments table\n- Effort level note (session-only via CLAUDE_CODE_EFFORT_LEVEL)\n- Escalation policy (sonnet fails → bump to opus)\n- CLAUDE_CODE_SUBAGENT_MODEL env var note\n\n## Acceptance Criteria\n- File exists at ~/.claude/rules/model-tiering.md\n- All three tiers documented with examples\n- Effort limitation clearly stated","status":"closed","priority":2,"issue_type":"task","assignee":"Luan Santos","owner":"github@luan.sh","created_at":"2026-02-09T19:49:13.119605-08:00","created_by":"Luan Santos","updated_at":"2026-02-09T19:54:34.064998-08:00","closed_at":"2026-02-09T19:54:34.064998-08:00","close_reason":"Closed"}
{"id":".claude-wez","title":"test oneline bug","status":"tombstone","priority":4,"issue_type":"task","owner":"github@luan.sh","created_at":"2026-02-09T19:25:24.081576-08:00","created_by":"Luan Santos","updated_at":"2026-02-09T19:28:07.580185-08:00","close_reason":"Closed","deleted_at":"2026-02-09T19:28:07.580185-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
